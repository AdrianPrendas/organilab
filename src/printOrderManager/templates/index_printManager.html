{% extends 'base.html' %}
{% load static i18n datasets %}
{% load staticfiles %}


{% block css %}
<link href="{% static 'css/jquery.dataTables.min.css' %}" rel="stylesheet">
<link href="{% static 'css/index_printManager.css' %}" rel="stylesheet">

{% endblock %}


{% block content %}
<!-- Get the errors send it by Django -->
{% if messages %}
<ul id="messages" class="messages">
	{% for message in messages %}
	<li {% if message.tags %} class="{{ message.tags }}" {% endif %}>{{ message }}</li>
	{% endfor %}
</ul>
{% endif %}
<h1 class="header text-center title">
	{% trans 'Print Manager' %}
</h1>
<div>
	<span class="subtitle">
		<center>{% trans 'Search in the table and choose the print you want to manage or delete !' %}</center>
	</span>
</div>
<a class="btn btn-success pull-right" href="{% url 'printOrderManager:printRegister' %}">
	{% trans 'Register another print' %}
</a>
<br><br>
<table class="table table-hover table-responsive table-bordered" id="example" class="display" style="width: 100%">
	<caption>List of prints</caption>
	<thead class="printList">
		<tr>
			<th>{% trans 'Print ' %}</th>
			<th>{% trans 'State' %}</th>
			<th>{% trans 'Responsible User' %}</th>
			<th>{% trans 'Creation Date' %}</th>
			<th>{% trans 'Qualification' %}</th>
			<th>{% trans 'Actions' %}</th>
		</tr>
	</thead>
	<tfoot>
		<tr>
			<th>{% trans 'Print ' %}</th>
			<th>{% trans 'State' %}</th>
			<th>{% trans 'Responsible User'%}</th>
			<th>{% trans 'Creation Date' %}</th>
			<th>{% trans 'Qualification' %}</th>
			<th>{% trans 'Actions' %}</th>
		</tr>
	</tfoot>
</table>
{% endblock %}
{% block js %}
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs/jq-3.3.1/jszip-2.5.0/dt-1.10.18/af-2.3.0/b-1.5.2/b-colvis-1.5.2/b-flash-1.5.2/b-html5-1.5.2/b-print-1.5.2/cr-1.5.0/fc-3.2.5/fh-3.1.4/kt-2.4.0/r-2.2.2/rg-1.0.3/rr-1.2.4/sc-1.5.0/sl-1.2.6/datatables.min.css" />
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/v/bs/jq-3.3.1/jszip-2.5.0/dt-1.10.18/af-2.3.0/b-1.5.2/b-colvis-1.5.2/b-flash-1.5.2/b-html5-1.5.2/b-print-1.5.2/cr-1.5.0/fc-3.2.5/fh-3.1.4/kt-2.4.0/r-2.2.2/rg-1.0.3/rr-1.2.4/sc-1.5.0/sl-1.2.6/datatables.min.js"></script>
<!-- JQuery No conflict -->
<script src="{% static 'js/jquery-3.3.1.js' %}"></script>
<!--This is for the alerts, take it from https://sweetalert.js.org/guides/-->
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
<script src="{% static 'js/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'js/index_printManager.js' %}"></script>

<script>
	function updateTable() {
		var table = $('#example').DataTable({
			"ajax": '{% url "printOrderManager:list_printObject" %}',
			// "processing" : true,
			"destroy": true, // Permite reinicializar la tabla
			"serverSide": true,
			"responsive": true,
			"fixedHeader": true,
			"buttons": [
				'colvis',
				'copy',
				'excel',
				'pdf'
			],
			"language": {
				"url": "{% get_dataset_translation %}"
			}
		});
		//table.buttons().container().appendTo($('.col-sm-6:eq(0)', table.table().container()));
	}


	$(document).ready(function () {
		updateTable();
	});
</script>
{% endblock %}