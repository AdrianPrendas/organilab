{% extends 'base.html' %}
{% load bootstrap i18n %}

{% block title %}{% trans 'Select laboratory' %}{% endblock %}

{% block content %}

  <div align="right">
    <button id="create_lab_btn" type="button" class="btn btn-default" data-toggle="modal" data-target="create_lab_modal" >{% trans 'Create laboratory' %}</button>
  </div>

  <div class="modal fade" tabindex="-1"  aria-labelledby="myLargeModalLabel" id="create_lab_modal" role="dialog">

    <div class="modal-dialog modal-lg">

      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <center><h3 class="modal-title">{% trans 'Create laboratory' %}</h3></center>
        </div>

        <!--Lab form-->
        <form method="POST" action="" class="form-horizontal">{% csrf_token %}
          <div class="modal-body ">

            {{ create_lab_form|bootstrap_horizontal}}

          </div>
          <div class="modal-footer">
            <button type="submit" name="action" value="createlab" class="save btn btn-danger">{% trans 'Create' %}</button>
            <button type="button" class="btn btn-default" data-dismiss="modal">{% trans 'Close' %}</button>
          </div>
        </form>

      </div>
    </div>

  </div>

  <div class="row">
    <div class="col-md-offset-3 col-md-6">
      <div class="page-header"><center><h2>{% trans 'Select your laboratory' %}</h2></center></div>
      <form action="" method="post">{% csrf_token %}
        {{ form | bootstrap }}
        <div class="text-center">
          <button type="submit" name="action" value="selectlab" class="save btn btn-primary">{% trans 'Select' %}</button>
        </div>
      </form>
    </div>
  </div>

  <script>

    $(document).ready(() => {
      if({{number_of_labs}} == 0){
          $("#create_lab_modal").modal('show');
      }
    });
    
  </script>
{% endblock %}
